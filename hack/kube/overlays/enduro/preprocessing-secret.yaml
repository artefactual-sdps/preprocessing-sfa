apiVersion: v1
kind: Secret
metadata:
  name: preprocessing-secret
type: Opaque
stringData:
  preprocessing.toml: |
    debug = true
    verbosity = 2

    sharedPath = "/home/preprocessing/shared"

    [temporal]
    address = "temporal.enduro-sdps:7233"
    namespace = "default"
    taskQueue = "preprocessing"
    workflowName = "preprocessing"

    [worker]
    maxConcurrentSessions = 1

    [bagit]
    checksumAlgorithm = "md5"

    [ais]
    listen = "0.0.0.0:9035"
    workingDir = "/tmp"

    [ais.temporal]
    address = "temporal.enduro-sdps:7233"
    namespace = "default"
    taskQueue = "ais"
    workflowName = "ais"

    [ais.worker]
    maxConcurrentSessions = 1

    [ais.amss]
    url = "http://host.k3d.internal:62081"
    user = "test"
    key = "test"

    [ais.bucket]
    endpoint = "http://minio.enduro-sdps:9000"
    pathStyle = true
    accessKey = "minio"
    secretKey = "minio123"
    region = "us-west-1"
    bucket = "ais"

    [fileFormat]
    allowlistPath = "/home/preprocessing/.config/allowed_file_formats.csv"

  allowed_file_formats.csv: |
    PRONOM_ID
    fmt/95
    x-fmt/16
    x-fmt/21
    x-fmt/22
    x-fmt/62
    x-fmt/111
    x-fmt/282
    x-fmt/283
    fmt/354
    fmt/476
    fmt/477
    fmt/478
    x-fmt/18
    fmt/161
    fmt/1196
    fmt/1777
    fmt/353
    x-fmt/392
    fmt/1
    fmt/2
    fmt/6
    fmt/141
    fmt/569
    fmt/199
    fmt/101
    fmt/142
    x-fmt/280
    fmt/1014
    fmt/1012
    fmt/654
    fmt/1013
    fmt/1011
    fmt/653
